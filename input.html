<p>Ya puedes navegar el sistema, pero te has topado con un muro invisible: <code>Permission denied</code>. Ese mensaje es la manifestaci√≥n del modelo de seguridad de Linux, una fortaleza dise√±ada para proteger el sistema de s√≠ mismo y de ti. Para trascender, necesitas comprender la anatom√≠a del poder. Este m√≥dulo no solo te ense√±ar√° a obtener privilegios de administrador; te ense√±ar√° a respetarlos, a gestionarlos y a convertirte en el verdadero amo de tu dominio. El poder absoluto no solo se toma, se comprende.</p>

<h4>üß† La Divinidad del Sistema: El Usuario Root</h4>

<p>En el pante√≥n de Linux, existe una sola deidad: <strong>root</strong>. El usuario <code>root</code> (tambi√©n conocido como superusuario) no es como un administrador de Windows. <code>root</code> es el usuario con ID 0. Es la entidad que el sistema operativo no cuestiona. Cuando <code>root</code> ordena, el sistema obedece sin dudar. Puede borrar cualquier archivo (incluyendo los que el sistema necesita para funcionar), modificar la configuraci√≥n de la red, apagar la m√°quina, y en general, hacer <strong>absolutamente cualquier cosa</strong>.</p>

<p><strong>La advertencia es solemne:</strong> Iniciar sesi√≥n y operar constantemente como <code>root</code> es como conducir un coche de F√≥rmula 1 por el centro de la ciudad a toda velocidad. Un solo error, un comando mal escrito, y puedes destruir el sistema por completo. La filosof√≠a profesional dicta: <strong>Nunca uses m√°s poder del necesario</strong>. Esto nos lleva al puente hacia la divinidad.</p>

<h4>üõ°Ô∏è El Puente Seguro: El Comando `sudo`</h4>

<p><code>sudo</code> (superuser do) es la herramienta moderna y segura para elevar temporalmente tus privilegios. En lugar de iniciar una sesi√≥n completa como <code>root</code>, <code>sudo</code> te permite ejecutar <strong>un √∫nico comando</strong> con los poderes de <code>root</code>. Es como pedir prestado el martillo del dios para clavar un clavo, en lugar de tomar posesi√≥n de su taller entero.</p>

<p>Cuando ejecutas un comando con <code>sudo</code>, el sistema te pedir√° tu <strong>propia contrase√±a de usuario</strong> (no la de <code>root</code>). Por defecto, recuerda tu autorizaci√≥n durante 15 minutos, evitando que tengas que escribirla constantemente. Este es el est√°ndar de oro en la administraci√≥n de sistemas y la forma en que deber√°s operar el 99% de las veces.</p>

<pre><code># Instalar un programa sin ser root
apt install nmap
# -> Saldr√°: E: No se pudo abrir el fichero de bloqueo '/var/lib/dpkg/lock-frontend' - Permission denied

# Instalar un programa pidiendo prestado el poder de root
sudo apt install nmap
# -> Te pedir√° tu contrase√±a, y luego proceder√° con la instalaci√≥n.</code></pre>

<h4>üîê La Anatom√≠a del Poder: Lectura, Escritura y Ejecuci√≥n (rwx)</h4>

<p>Los permisos en Linux no son un simple "s√≠" o "no". Son granulares. Cada archivo y directorio tiene tres tipos de permisos para tres tipos de actores. Esto se representa con la notaci√≥n <code>rwx</code>.</p>

<ul>
  <li><strong>Actores:</strong>
    <ul>
      <li><strong>u</strong>ser (Propietario): El usuario que cre√≥ el archivo.</li>
      <li><strong>g</strong>roup (Grupo): El grupo al que pertenece el archivo. Varios usuarios pueden estar en el mismo grupo para compartir permisos.</li>
      <li><strong>o</strong>thers (Otros): Cualquier otro usuario que no sea el propietario ni est√© en el grupo.</li>
    </ul>
  </li>
  <li><strong>Permisos:</strong>
    <ul>
      <li><strong>r</strong>ead (Lectura): Permite ver el contenido de un archivo o listar los archivos de un directorio.</li>
      <li><strong>w</strong>rite (Escritura): Permite modificar un archivo o crear/borrar archivos <strong>dentro</strong> de un directorio.</li>
      <li><strong>x</strong>ecute (Ejecuci√≥n): Permite ejecutar un archivo (si es un programa o script) o <strong>entrar</strong> en un directorio (hacer <code>cd</code> sobre √©l).</li>
    </ul>
  </li>
</ul>

<p>Puedes ver estos permisos con <code>ls -l</code>:</p>

<pre><code>$ ls -l mi_script.sh
-rwxr-xr-- 1 kali kali 120 Dec 3 10:30 mi_script.sh</code></pre>

<p>Desglosemos <code>-rwxr-xr--</code>:</p>
<ul>
  <li>El primer <code>-</code> indica que es un archivo (ser√≠a <code>d</code> para un directorio).</li>
  <li><strong>rwx</strong>: El propietario (<code>kali</code>) puede Leer, Escribir y Ejecutar.</li>
  <li><strong>r-x</strong>: Los usuarios del grupo (<code>kali</code>) pueden Leer y Ejecutar, pero no modificar.</li>
  <li><strong>r--</strong>: Los dem√°s usuarios solo pueden Leer el archivo.</li>
</ul>

<h4>üî¢ El Lenguaje de los Dioses: Notaci√≥n Octal y `chmod`</h4>

<p>Cambiar permisos con letras (`chmod u+x archivo`) es √∫til, pero los profesionales usan la notaci√≥n num√©rica (octal) por su rapidez y precisi√≥n. Se basa en una simple suma:</p>

<ul>
  <li><strong>Lectura (r)</strong> = 4</li>
  <li><strong>Escritura (w)</strong> = 2</li>
  <li><strong>Ejecuci√≥n (x)</strong> = 1</li>
</ul>

<p>As√≠, los permisos se combinan:
<code>rwx</code> = 4 + 2 + 1 = <strong>7</strong>
<code>r-x</code> = 4 + 0 + 1 = <strong>5</strong>
<code>r--</strong> = 4 + 0 + 0 = <strong>4</strong></p>

<p>El comando <code>chmod</code> (change mode) usa un n√∫mero de tres d√≠gitos: <strong>Propietario | Grupo | Otros</strong>.</p>

<p><strong>Ejemplos pr√°cticos de un pentester:</strong></p>

<pre><code># Descargas un script de exploit, pero no es ejecutable.
 $ ls -l exploit.py
-rw-r--r-- 1 kali kali 5120 Dec 3 10:45 exploit.py

# Le das permiso de ejecuci√≥n a todos (755 = rwxr-xr-x)
# 7 (rwx) para ti, 5 (r-x) para el grupo y otros.
 $ chmod 755 exploit.py
 $ ls -l exploit.py
-rwxr-xr-x 1 kali kali 5120 Dec 3 10:45 exploit.py

# Creas un archivo de configuraci√≥n sensible que solo t√∫ debes leer y modificar.
# 600 (rw-------) = solo el propietario puede leer/escribir.
 $ chmod 600 claves_secretas.txt</code></pre>

<p><strong>Advertencia sobre <code>chmod 777</code>:</strong> Este comando da todos los permisos a todos. Es como dejar las puertas de tu casa abiertas con un cartel que dice "entra y toma lo que quieras". Es una soluci√≥n r√°pida y sucia para problemas de permisos, pero una <strong>pr√°ctica de seguridad p√©sima y peligrosa</strong>. Ev√≠tala a menos que sea en un directorio de prueba temporal y aislado.</p>

<h4>ü§î Dudas Frente al Trono</h4>

<ul>
  <li><strong>¬øC√≥mo cambio el propietario de un archivo?</strong> Usa <code>chown</code> (change owner). Por ejemplo, <code>sudo chown www-data:www-data /var/www/html/index.html</code> hace que el usuario y grupo <code>www-data</code> (el servidor web) sea el due√±o del archivo.</li>
  <li><strong>¬øCu√°l es la diferencia entre <code>sudo su</code> y <code>sudo -i</code>?</strong> Ambos te dan una shell de root, pero <code>sudo -i</code> (o <code>sudo su -</code>) es m√°s limpio. Simula un login completo de root, cargando sus variables de entorno. <code>sudo su</code> simplemente te cambia de usuario, manteniendo tu entorno anterior. <code>sudo -i</code> es la preferida profesionalmente.</li>
  <li><strong>¬øPor qu√© a veces <code>sudo</code> no me funciona?</strong> Puede que tu usuario no est√© en el grupo <code>sudo</code>. Un administrador debe a√±adirte con el comando <code>sudo usermod -aG sudo tu_usuario</code>. En tu instalaci√≥n de Kali, tu usuario deber√≠a estar configurado por defecto.</li>
</ul>

<hr>

<p>Has desbloqueado el primer nivel de control del sistema. Ya no eres un simple visitante; eres un administrador. Entiendes que los permisos son las cerraduras y <code>sudo</code> es la llave maestra. Usas este poder con precisi√≥n y responsabilidad. Has ganado el respeto de la m√°quina.</p>

<p>¬øEst√°s listo para explorar el vasto territorio que ahora controlas en el <strong>M√≥dulo 4: El Mapa del Tesoro: Filesystem</strong>? üó∫Ô∏è</p>